<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.youyd.spit.dao.SpitDao" >
    <resultMap id="BaseResultMap" type="com.youyd.spit.pojo.Spit" >
        <id column="id" property="id" jdbcType="VARCHAR" />
        <result column="content" property="content" jdbcType="VARCHAR" />
        <result column="publish_time" property="publishTime" jdbcType="TIMESTAMP" />
        <result column="user_id" property="userId" jdbcType="VARCHAR" />
        <result column="nick_name" property="nickName" jdbcType="VARCHAR" />
        <result column="visits_count" property="visitsCount" jdbcType="BIGINT" />
        <result column="thumb_up_count" property="thumbUpCount" jdbcType="BIGINT" />
        <result column="share_count" property="shareCount" jdbcType="BIGINT" />
        <result column="reply_count" property="replyCount" jdbcType="BIGINT" />
        <result column="is_visible" property="isVisible" jdbcType="INTEGER" />
        <result column="parent_id" property="parentId" jdbcType="VARCHAR" />
        <result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
    </resultMap>


    <!--根据上级ID查询吐槽列表-->
    <select id="findSpitByParentid" parameterType="String" resultMap="BaseResultMap">

    </select>

    <!--更新 点赞数,回复数,分享数或者评论数 的通用更新方法-->
    <update id="updateCountByPrimaryKey" parameterType="java.util.Map">
        UPDATE tb_spit
            SET #{_count} = #{_count} + 1
          WHERE
               id = #{id}
    </update>

</mapper>